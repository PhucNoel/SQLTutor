<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui">
<f:event type="preRenderView" listener="#{userBean.devRedirect}" />
<h:head>
	<title>SQL Tutor</title>
	<ui:insert name="menu">
		<ui:include src="/Menubar.xhtml" />
	</ui:insert>
</h:head>
<h:body style="height:1000px;width:1400px;margin-left:20px">
	<h:form id="schemaUploadForm" enctype="multipart/form-data">  
  
		<div style="position:absolute;width:400;height:400;top:auto;left:20">
			<p:panelGrid columns="2">
				<f:facet name="header">  
				    Upload Schema
				</f:facet>
				<p:outputLabel for="schemaFile" value="Schema file: " />
				
				<p:fileUpload id="schemaFile" mode="advanced" label="Choose Schema"
					auto="true" sizeLimit="1048576" allowTypes="/(\.|\/)(sql)$/" 
					fileUploadListener="#{schemaUploadPageBean.handleFileUpload}"/>  
				<f:facet name="footer">
					<p:commandButton id="schemaUploadButton"
						action="#{schemaUploadPageBean.addSchema}"
						update="schemaUploadForm"
						value="Submit" icon="ui-icon-check" style="margin:0"/>
				</f:facet> 
			</p:panelGrid>
			<p:messages id="messages" showDetail="true" autoUpdate="true"/>
		</div>
		<div style="position:absolute;width:400;height:400;top:auto;left:700">
			<h1>Example applicable .sql file:</h1> <br/>
			<p:outputLabel value="CREATE SCHEMA business_trip"/><br/><br/>
			<p:outputLabel value="
				CREATE TABLE salesperson (
					SSN integer PRIMARY KEY, 
					name text, 
					start_year smallint, 
					dept_no integer
				)"/> <br/><br/>
			<p:outputLabel value="
				CREATE TABLE trip (
					SSN integer references salesperson(SSN), 
					from_city text, 
					to_city text, 
					departure_date date, 
					return_date date, 
					trip_id integer PRIMARY KEY
				)"/> <br/><br/>
			<p:outputLabel value="
				CREATE TABLE expense (
					trip_id integer references trip(trip_id), 
					account_id integer, 
					amount integer,
					PRIMARY KEY(trip_id, account_id)
				);" /> <br/><br/>
		</div>
	</h:form>
</h:body>
</html>