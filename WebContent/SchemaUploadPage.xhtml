<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui">
<f:event type="preRenderView" listener="#{userBean.adminRedirect}" />
<h:head>
	<title>SQL Tutor</title>
	<ui:insert name="menu">
		<ui:include src="/Menubar.xhtml" />
	</ui:insert>
</h:head>
<h:body>
	<h:form enctype="multipart/form-data">  
		<ui:insert name="template">
			<ui:include src="/BodyTemplate.xhtml" />
		</ui:insert>
		<p:messages id="messages" showDetail="true" autoUpdate="true"/>
		<p:panel header="Upload Schema" styleClass="panel">
			<p:fileUpload id="schemaFile" mode="advanced" label="Choose Schema"
				auto="true" sizeLimit="1048576" allowTypes="/(\.|\/)(sql)$/" 
				fileUploadListener="#{schemaUploadPageBean.handleFileUpload}"/> 
			
			<p:commandButton 
				action="#{schemaUploadPageBean.addSchema}"
				update="@form" styleClass="panelbutton"
				value="Submit" icon="ui-icon-check"/>
		</p:panel>
		<br/>
		
		<p:panel header="Example Applicable .sql File" styleClass="panel" >
			<p:outputLabel value="CREATE SCHEMA business_trip"/>
			<br/><br/>
			<p:outputLabel value="
				CREATE TABLE salesperson (
					SSN integer PRIMARY KEY, 
					name text, 
					start_year smallint, 
					dept_no integer
				)"/> 
			<br/><br/>
			<p:outputLabel value="
				CREATE TABLE trip (
					SSN integer references salesperson(SSN), 
					from_city text, 
					to_city text, 
					departure_date date, 
					return_date date, 
					trip_id integer PRIMARY KEY
				)"/> 
			<br/><br/>
			<p:outputLabel value="
				CREATE TABLE expense (
					trip_id integer references trip(trip_id), 
					account_id integer, 
					amount integer,
					PRIMARY KEY(trip_id, account_id)
				);" /> 
		</p:panel>
	</h:form>
</h:body>
</html>