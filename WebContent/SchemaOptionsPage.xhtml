<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui">
	<f:event type="preRenderView" listener="#{userBean.devRedirect}" />
	<h:head>
		<title>SQL Tutor</title>
		<ui:insert name="menu">
			<ui:include src="/Menubar.xhtml" />
		</ui:insert>
	</h:head>
	<h:body>
		<h:form>
			<h:outputStylesheet library="css" name="styles.css"/>
			<div class="left2">
				<p:panel styleClass="panel" header="Schema: &quot;#{userBean.selectedSchema}&quot;">
					<p:commandButton id="databaseButton" value="Show Schema" styleClass="panelbutton"/>
						<p:overlayPanel id="databasePanel" for="databaseButton" hideEffect="fade" style="width:50%"> 
							<p:dataTable var="databaseTable"
								value="#{schemaQuestionsPageBean.tables}"
								resizableColumns="true"
								style="height:30%"
								scrollWidth="100%"
								scrollable="true">
								<p:column headerText="Table Names">
									<h:outputText value="#{databaseTable.tableName}" />
								</p:column>
								<p:column headerText="Column Names" style="white-space: normal;">
									<h:outputText value="#{databaseTable.columns}" />
								</p:column>
							</p:dataTable>
					</p:overlayPanel> 
					<br/><br/>
					
					<h:link value="Schema Options" outcome="SchemaOptionsPage" disabled="true"/>
					<br/><br/>
					
					<h:link value="Schema Instances" outcome="SchemaInstancesPage" />
					<br/><br/>
					
					<h:link value="Schema Questions" outcome="SchemaQuestionsPage" />
				</p:panel>
			</div>
			
			<div class="middle"/>
			
			<div class="right2">
		    	<p:messages />
		    	<p:panel header="Schema Options" styleClass="panel">
					<p:panelGrid columns="2"> 
					    <p:selectBooleanCheckbox id="check1" value="#{schemaOptionsPageBean.visibleToUsers}"/>
					    <h:outputText value="Visible to users"/> 
					    
					    <p:selectBooleanCheckbox id="check2" value="#{schemaOptionsPageBean.inOrderQuestions}"/> 
					    <h:outputText value="In order questions"/>
	
						<p:selectBooleanCheckbox id="check3" value="#{schemaOptionsPageBean.deleteThisSchema}"/> 
					    <p:column>	
					    	<h:outputText value="Delete this schema "/>  
					    	<h:outputText value="(cannot be undone)" styleClass="warning"/>  
					    </p:column>
					</p:panelGrid> 
					
					<p:commandButton
						action="#{schemaOptionsPageBean.submit}"
						ajax="false" styleClass="panelbutton"
						value="Submit" icon="ui-icon-check"/>
				</p:panel>
			</div>  
		</h:form>
	</h:body>
</html>